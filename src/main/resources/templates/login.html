<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login Social</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://apis.google.com/js/platform.js" async defer></script>
    <script async defer crossorigin="anonymous" src="https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v9.0&appId=YOUR_FACEBOOK_APP_ID&autoLogAppEvents=1" nonce="YOUR_NONCE"></script>
    <script async defer src="https://buttons.github.io/buttons.js"></script>
</head>
<body class="text-center">

<div class="container">
    <main class="form-signin">
        <h1 class="h3 mb-3 fw-normal">Login Social</h1>

        <!-- Botão de login do GitHub -->
        <a href="/login/github" class="btn btn-dark btn-lg btn-block">Login with GitHub</a>

        <!-- Botão de login do Google -->
        <div class="g-signin2" data-onsuccess="onSignInGoogle"></div>

        <!-- Botão de login do Facebook -->
        <a href="/login/facebook" class="btn btn-primary btn-lg btn-block">Login with Facebook</a>
    </main>
</div>

<script>

    function onSignInGoogle(googleUser) {
        const profile = googleUser.getBasicProfile();

        console.log('ID: ' + profile.getId());
        console.log('Name: ' + profile.getName());
        console.log('Image URL: ' + profile.getImageUrl());
        console.log('Email: ' + profile.getEmail());
    }

    function checkLoginState() {
        FB.getLoginStatus(function(response) {
            if (response.status === 'connected') {
                FB.api('/me', { fields: 'id,name,email,picture' }, function(userInfo) {
                    console.log('Facebook ID: ' + userInfo.id);
                    console.log('Facebook Name: ' + userInfo.name);
                    console.log('Facebook Image URL: ' + userInfo.picture.data.url);
                    console.log('Facebook Email: ' + userInfo.email);

                });
            }
        });
    }
</script>

</body>
</html>
